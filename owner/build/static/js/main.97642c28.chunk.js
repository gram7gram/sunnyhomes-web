(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,a,t){},107:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),c=t(14),s=t(10),i=t(71),l=t(63),u=t(64),d=t(61),p=t(23),m=t(5),v=t.n(m),f=t(4),h="Login/LOGOUT",E="Login/LOGIN_SUCCESS",g="Login/LOGIN_FAILURE",b="Login/LOGIN_CHECK_SUCCESS",y="Login/LOGIN_CHECK_FAILURE",O="Login/CREDENTIALS_CHANGED",N="Login/LOGIN_VALIDATE_REQUEST",j=function(e,a){return function(a){var t=function(e){var a={total:0,errors:[]};return e.email||++a.total,e.password||++a.total,a}(e);return 0===t.total?a({type:"Login/LOGIN_VALIDATE_SUCCESS"}):a({type:"Login/LOGIN_VALIDATE_FAILURE",payload:t}),t}},w=v.a.mark(L),C=v.a.mark(_),A=v.a.mark(k);function L(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)({type:N});case 2:case"end":return e.stop()}},w)}function _(){var e;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(f.d)();case 2:return e=a.sent,a.next=5,Object(f.c)(j(e.Login));case 5:case"end":return a.stop()}},C)}function k(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)([O],L),Object(f.g)(400,N,_)]);case 2:case"end":return e.stop()}},A)}var S=t(16),I="/login",x="/profile",P="/",F="/booking/new",D="/booking/:id",T=v.a.mark(V),B=v.a.mark(U),R=v.a.mark(H);function V(e){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.payload,localStorage.setItem("token",a.token),t.next=4,Object(f.c)(Object(S.d)(P));case 4:case"end":return t.stop()}},T)}function U(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),e.next=3,Object(f.c)(Object(S.d)(I));case 3:case"end":return e.stop()}},B)}function H(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.f)([E,b],V),Object(f.f)([h,y],U)]);case 2:case"end":return e.stop()}},R)}var G=v.a.mark(M);function M(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(k),Object(f.b)(H)]);case 2:case"end":return e.stop()}},G)}var z="Profile/FETCH_BEFORE",q="Profile/FETCH_SUCCESS",Y="Profile/SAVE_SUCCESS",K="Profile/SAVE_FAILURE",Q="Profile/VALIDATE_REQUEST",J="Profile/MODEL_CHANGED",W=t(13),X=t(33),Z=t.n(X),$={en:function(){return t(81)}};Z.a.fallbacks=!0,Z.a.translations=Object(W.a)({},"en",$.en()),Z.a.locale="en",Z.a.missingTranslation=function(e){return e};var ee=Z.a,ae=t(65),te=t.n(ae),ne=function(e,a){return function(t){var n=function(e,a){var t={count:0,messages:[],errors:{}};return e.name||(++t.count,a.name&&(t.errors.name=ee.t("validation.required"))),e.surname||(++t.count,a.surname&&(t.errors.surname=ee.t("validation.required"))),e.email?te.a.validate(e.email)||(++t.count,a.email&&(t.errors.email=ee.t("validation.invalid_email"))):(++t.count,a.email&&(t.errors.email=ee.t("validation.required"))),e.phoneLandline||(++t.count,a.phoneLandline&&(t.errors.phoneLandline=ee.t("validation.required"))),e.phoneMobile||(++t.count,a.phoneMobile&&(t.errors.phoneMobile=ee.t("validation.required"))),e.address&&(e.address.country||(++t.count,a.address&&(t.errors.country=ee.t("validation.required"))),e.address.city||(++t.count,a.address&&(t.errors.city=ee.t("validation.required"))),e.address.address||(++t.count,a.address&&(t.errors.address=ee.t("validation.required")))),t}(e,a);return 0===n.count?t({type:"Profile/VALIDATE_SUCCESS"}):t({type:"Profile/VALIDATE_FAILURE",payload:n}),n}},re=v.a.mark(se),oe=v.a.mark(ie),ce=v.a.mark(le);function se(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)({type:Q});case 2:case"end":return e.stop()}},re)}function ie(){var e,a,t;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.d)(function(e){return e.Profile});case 2:return e=n.sent,a=e.model,t=e.changes,n.next=7,Object(f.c)(ne(a,t));case 7:case"end":return n.stop()}},oe)}function le(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.g)(400,[J,q],se),Object(f.e)(Q,ie)]);case 2:case"end":return e.stop()}},ce)}var ue=t(28),de=v.a.mark(me);function pe(){ue.b.success(ee.t("notification.save_success"),{position:ue.b.POSITION.TOP_RIGHT})}function me(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)(Y,pe)]);case 2:case"end":return e.stop()}},de)}var ve=v.a.mark(fe);function fe(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(le),Object(f.b)(me)]);case 2:case"end":return e.stop()}},ve)}var he="Calendar/SAVE_SUCCESS",Ee=v.a.mark(be);function ge(){ue.b.success(ee.t("notification.save_success"),{position:ue.b.POSITION.TOP_RIGHT})}function be(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)(he,ge)]);case 2:case"end":return e.stop()}},Ee)}var ye=v.a.mark(Oe);function Oe(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(be)]);case 2:case"end":return e.stop()}},ye)}var Ne="Booking/FETCH_SUCCESS",je="Booking/SAVE_SUCCESS",we="Booking/VALIDATE_REQUEST",Ce="Booking/MODEL_CHANGED",Ae=function(e,a){return function(t){var n=function(e,a){var t={count:0,messages:[],errors:{}};return e.arrival||(++t.count,a.arrival&&(t.errors.arrival=ee.t("validation.required"))),e.departure||(++t.count,a.departure&&(t.errors.departure=ee.t("validation.required"))),e.type||(++t.count,a.type&&(t.errors.type=ee.t("validation.required"))),t}(e,a);return 0===n.count?t({type:"Booking/VALIDATE_SUCCESS"}):t({type:"Booking/VALIDATE_FAILURE",payload:n}),n}},Le=v.a.mark(Se),_e=v.a.mark(Ie),ke=v.a.mark(xe);function Se(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)({type:we});case 2:case"end":return e.stop()}},Le)}function Ie(){var e,a,t;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.d)(function(e){return e.Profile});case 2:return e=n.sent,a=e.model,t=e.changes,n.next=7,Object(f.c)(Ae(a,t));case 7:case"end":return n.stop()}},_e)}function xe(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.g)(400,[Ce,Ne],Se),Object(f.e)(we,Ie)]);case 2:case"end":return e.stop()}},ke)}var Pe=v.a.mark(De);function Fe(){ue.b.success(ee.t("notification.save_success"),{position:ue.b.POSITION.TOP_RIGHT})}function De(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.e)(je,Fe)]);case 2:case"end":return e.stop()}},Pe)}var Te=v.a.mark(Be);function Be(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(xe),Object(f.b)(De)]);case 2:case"end":return e.stop()}},Te)}var Re=v.a.mark(Ve);function Ve(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(M),Object(f.b)(fe),Object(f.b)(Oe),Object(f.b)(Be)]);case 2:case"end":return e.stop()}},Re)}var Ue=t(32),He=Object(s.c)({isLoadingVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_CHECK_BEFORE":return!0;case b:case y:return!1;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case E:case b:return!0;case h:case g:case"Login/LOGIN_BEFORE":case"Login/LOGIN_CHECK_BEFORE":case y:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:case b:return void 0!==a.payload.token?a.payload.token:e;case h:case g:case y:return null;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:case b:return void 0!==a.payload.user?a.payload.user:e;case h:case g:case y:return null;default:return e}}}),Ge=Object(s.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return void 0!==a.payload.email?a.payload.email:e;default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:case b:return null;case O:return void 0!==a.payload.password?a.payload.password:e;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Login/LOGIN_BEFORE":case E:case"Login/LOGIN_VALIDATE_SUCCESS":return[];case"Login/LOGIN_VALIDATE_FAILURE":return a.payload.errors;case g:var t=a.payload.data;return void 0!==t&&void 0!==t.message?[a.payload.data.message]:[];default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_VALIDATE_FAILURE":case E:return!1;case"Login/LOGIN_VALIDATE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_BEFORE":return!0;case E:case g:return!1;default:return e}}});function Me(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ze(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Me(t,!0).forEach(function(a){Object(W.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Me(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var qe=Object(s.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case q:case Y:return void 0!==a.payload._id?a.payload._id:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.email?a.payload.email:null;case J:return void 0!==a.payload.email?a.payload.email:e;default:return e}},name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.name?a.payload.name:null;case J:return void 0!==a.payload.name?a.payload.name:e;default:return e}},surname:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.surname?a.payload.surname:null;case J:return void 0!==a.payload.surname?a.payload.surname:e;default:return e}},phoneLandline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.phoneLandline?a.payload.phoneLandline:null;case J:return void 0!==a.payload.phoneLandline?a.payload.phoneLandline:e;default:return e}},phoneMobile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.phoneMobile?a.payload.phoneMobile:null;case J:return void 0!==a.payload.phoneMobile?a.payload.phoneMobile:e;default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.address?a.payload.address:{};case J:return void 0!==a.payload.address?ze({},e,{},a.payload.address):e;default:return e}},property:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:case q:return void 0!==a.payload.property?a.payload.property:{};case J:return void 0!==a.payload.property?ze({},e,{},a.payload.property):e;default:return e}}});function Ye(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var Ke={count:0,messages:[],errors:{}},Qe=Object(s.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/VALIDATE_SUCCESS":return!0;case"Profile/VALIDATE_FAILURE":case K:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/FETCH_FAILURE":case q:case Y:case K:return!1;case z:case"Profile/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:case"Profile/VALIDATE_SUCCESS":return Ke;case"Profile/VALIDATE_FAILURE":return a.payload;default:return e}},changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:case q:return{};case J:var t=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ye(t,!0).forEach(function(a){Object(W.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},e);return Object.keys(a.payload).forEach(function(e){t[e]=!0}),t;default:return e}},model:qe,serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case K:return void 0!==a.payload.data.message?[a.payload.data.message]:[];case Y:case"Profile/SAVE_BEFORE":return[];default:return e}}}),Je=t(35),We=t.n(Je),Xe=Object(s.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Calendar/FETCH_FAILURE":case"Calendar/FETCH_SUCCESS":case he:case"Calendar/SAVE_FAILURE":return!1;case"Calendar/FETCH_BEFORE":case"Calendar/SAVE_BEFORE":return!0;default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Calendar/FETCH_SUCCESS":return a.payload.bookings.map(function(e){return{title:e.type,start:We()(e.arrival,"YYYY-MM-DD"),end:We()(e.departure,"YYYY-MM-DD"),allDay:!1,resource:e}});default:return e}}}),Ze=Object(s.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ne:case je:return void 0!==a.payload._id?a.payload._id:null;default:return e}},arrival:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case je:case Ne:return void 0!==a.payload.arrival?a.payload.arrival:null;case Ce:return void 0!==a.payload.arrival?a.payload.arrival:e;default:return e}},departure:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case je:case Ne:return void 0!==a.payload.departure?a.payload.departure:null;case Ce:return void 0!==a.payload.departure?a.payload.departure:e;default:return e}},type:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reservation",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case je:case Ne:return void 0!==a.payload.type?a.payload.type:null;case Ce:return void 0!==a.payload.type?a.payload.type:e;default:return e}}});function $e(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var ea={count:0,messages:[],errors:{}},aa=Object(s.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Booking/VALIDATE_SUCCESS":return!0;case"Booking/VALIDATE_FAILURE":case"Booking/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Booking/FETCH_FAILURE":case Ne:case je:case"Booking/SAVE_FAILURE":return!1;case"Booking/FETCH_BEFORE":case"Booking/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Booking/FETCH_BEFORE":case"Booking/VALIDATE_SUCCESS":return ea;case"Booking/VALIDATE_FAILURE":return a.payload;default:return e}},changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Booking/FETCH_BEFORE":case Ne:return{};case Ce:var t=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?$e(t,!0).forEach(function(a){Object(W.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},e);return Object.keys(a.payload).forEach(function(e){t[e]=!0}),t;default:return e}},model:Ze,serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Booking/SAVE_FAILURE":return void 0!==a.payload.data.message?[a.payload.data.message]:[];case je:case"Booking/SAVE_BEFORE":return[];default:return e}}}),ta=function(e){return Object(s.c)({router:Object(Ue.b)(e),App:He,Login:Ge,Profile:Qe,Calendar:Xe,Booking:aa})},na=t(17),ra=t.n(na),oa={apiHost:"http://api.sunnyhomes.com.cy"},ca=Object(p.a)(),sa=Object(i.a)(),ia=[l.a,u.a,sa,Object(d.a)(ca)],la=s.d;var ua=localStorage.getItem("token");ua||(ua=null);var da={App:{isAuthenticated:!1,isLoadingVisible:!!ua,token:ua}},pa=t(53),ma=t(27),va=function(){return r.a.createElement("div",{className:"text-center space-2"},r.a.createElement("img",{src:"/img/loading.gif",alt:"Loading...",width:100}))},fa=t(18),ha=t(19),Ea=t(21),ga=t(20),ba=t(22),ya=t(29),Oa=t(26),Na=function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(r)))).logout=function(){t.props.dispatch({type:h})},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"render",value:function(){var e=this.props.isAuthenticated;return r.a.createElement("header",{id:"header",className:"u-header u-header--full-container u-header--abs-top u-header--show-hide shadow-sm p-0 m-0","data-header-fix-moment":"500","data-header-fix-effect":"slide"},r.a.createElement("div",{className:"u-header__section pt-3"},r.a.createElement("div",{id:"logoAndNav",className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand u-header__navbar u-header__navbar--no-space p-0"},r.a.createElement("a",{className:"navbar-brand u-header__navbar-brand u-header__navbar-brand-center p-0",href:""},"Logo"),r.a.createElement("ul",{className:"navbar-nav u-header__navbar-nav text-center"},!e&&r.a.createElement("li",{className:"nav-item u-header__nav-item mb-1 mb-lg-0 mr-1"},r.a.createElement(ya.a,{className:"btn btn-sm btn-primary transition-3d-hover",to:I},ee.t("navigation.login"))),e&&r.a.createElement("li",{className:"nav-item u-header__nav-item mb-1 mb-lg-0 mr-1"},r.a.createElement("button",{className:"btn btn-sm btn-outline-primary transition-3d-hover",onClick:this.logout},ee.t("navigation.logout"))))))))}}]),a}(n.PureComponent),ja=Object(Oa.a)({isAuthenticated:function(e){return e.App.isAuthenticated}}),wa=Object(ma.g)(Object(c.c)(ja)(Na)),Ca=function(e){function a(){return Object(fa.a)(this,a),Object(Ea.a)(this,Object(ga.a)(a).apply(this,arguments))}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isAuthenticated,t=e.user;return a?r.a.createElement("div",{className:"gradient-half-primary-v6"},r.a.createElement("div",{className:"container space-top-1 pb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"h3 text-white font-weight-medium mb-1"},ee.t("navigation.welcome"),", ",t.name,"!")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{className:"u-header u-header-left-aligned-nav u-header--bg-transparent u-header--white-nav-links z-index-4"},r.a.createElement("div",{className:"u-header__section bg-transparent"},r.a.createElement("nav",{className:" navbar navbar-expand u-header__navbar u-header__navbar--no-space"},r.a.createElement("ul",{className:"navbar-nav u-header__navbar-nav m-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(ya.a,{className:"nav-link u-header__nav-link",to:P},ee.t("navigation.calendar"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(ya.a,{className:"nav-link u-header__nav-link",to:x},ee.t("navigation.profile")))))))))):null}}]),a}(n.PureComponent),Aa=Object(Oa.a)({isAuthenticated:function(e){return e.App.isAuthenticated},user:function(e){return e.App.user}}),La=Object(ma.g)(Object(c.c)(Aa)(Ca)),_a=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container text-center space-1 border-top"},r.a.createElement("a",{className:"d-inline-flex align-items-center mb-2",href:"/"},"Logo"),r.a.createElement("p",{className:"small text-muted"},ee.t("footer.copyright"))))},ka=function(e,a){return function(t){t({type:"Login/LOGIN_BEFORE"}),ra.a.post(oa.apiHost+"/api/v1/owner/login",{email:e,password:a}).then(function(e){var a=e.data;t({type:E,payload:a})}).catch(function(e){console.log(e),e.response&&t({type:g,payload:{status:e.response.status,data:e.response.data}})})}},Sa=function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(r)))).submit=function(){var e=t.props.Login,a=e.email,n=e.password;t.props.dispatch(ka(a,n))},t.submitIfEnter=function(e){13===e.keyCode&&t.submit()},t.onChange=function(e){return function(a){t.props.dispatch({type:O,payload:Object(W.a)({},e,a.target.value)})}},t.onChangeIgnoreCase=function(e){return function(a){var n=a.target.value=a.target.value.toLowerCase();t.props.dispatch({type:O,payload:Object(W.a)({},e,n)})}},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"render",value:function(){var e=this.props.Login,a=e.email,t=e.password,n=e.isValid,o=e.errors,c=e.isLoading;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row no-gutters space-lg-2"},r.a.createElement("div",{className:"col-md-8 col-lg-7 col-xl-6 offset-md-2 offset-lg-2 offset-xl-3 space-2 space-lg-0"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("h2",{className:"h3 text-primary font-weight-normal mb-0"},ee.t("login.title")),r.a.createElement("p",null,ee.t("login.subtitle"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},o.length>0&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"simple"},o.map(function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},ee.t("login.login")),r.a.createElement("input",{type:"text",className:"form-control",name:"login",autoFocus:!0,placeholder:ee.t("login.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:a||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label"},ee.t("login.password")),r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"********",onChange:this.onChange("password"),onKeyDown:this.submitIfEnter,value:t||""})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{className:"btn btn-primary transition-3d-hover",onClick:this.submit,disabled:!n||c},r.a.createElement("i",{className:c?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",ee.t("login.action")))))))))}}]),a}(r.a.Component),Ia=Object(Oa.a)({Login:function(e){return e.Login}}),xa=Object(c.c)(Ia)(Sa);function Pa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var Fa=function(e){var a=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Pa(t,!0).forEach(function(a){Object(W.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pa(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},e);return delete a.id,a},Da=function(e){return function(a,t){var n=t().App.token,r=Fa(e);a({type:"Profile/SAVE_BEFORE"}),ra.a.post(oa.apiHost+"/api/v1/profile",r,{headers:{Authorization:n}}).then(function(e){var t=e.data;a({type:Y,payload:t})}).catch(function(e){console.log(e),e.response&&a({type:K,payload:{status:e.response.status,data:e.response.data}})})}},Ta=t(47),Ba=t.n(Ta),Ra=(t(104),t(105),function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(r)))).onChange=function(e,a,n,r){t.props.onChange(r,n.dialCode,e)},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"render",value:function(){var e=this.props.value;return r.a.createElement(Ba.a,Object.assign({containerClassName:"intl-tel-input",inputClassName:"form-control",formatOnInit:!1,preferredCountries:["cy","us","gb"]},this.props,{value:e,onPhoneNumberChange:this.onChange}))}}]),a}(r.a.Component)),Va=function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(o)))).submit=function(){var e=t.props.Profile.model;t.props.dispatch(Da(e))},t.change=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.props.dispatch({type:J,payload:Object(W.a)({},e,a)})},t.changeBool=function(e){return function(a){return t.change(e,a.target.checked)}},t.changeString=function(e){return function(a){return t.change(e,a.target.value)}},t.changeAddressString=function(e){return function(a){return t.props.dispatch({type:J,payload:{address:Object(W.a)({},e,a.target.value)}})}},t.changePhone=function(e){return function(a,n,r){return t.change(e,a)}},t.getError=function(e){var a=t.props.Profile.validator.errors;return void 0===a[e]?null:r.a.createElement("small",{className:"feedback invalid-feedback d-block"},a[e])},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,a){var t=a().App.token;e({type:z}),ra.a.get(oa.apiHost+"/api/v1/profile",{headers:{Authorization:t}}).then(function(a){var t=a.data;e({type:q,payload:t})}).catch(function(a){console.log(a),a.response&&e({type:"Profile/FETCH_FAILURE",payload:{status:a.response.status,data:a.response.data}})})})}},{key:"render",value:function(){var e=this.props.Profile,a=e.model,t=e.isValid,n=e.isLoading,o=e.serverErrors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card shadow-sm my-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"m-0"},ee.t("profile.title"))),r.a.createElement("div",{className:"col-12 col-md-auto text-right"},r.a.createElement("button",{className:"btn btn-primary transition-3d-hover",type:"button",onClick:this.submit,disabled:n||!t},r.a.createElement("i",{className:n?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",ee.t("profile.action"))))),r.a.createElement("div",{className:"card-body"},o.length>0&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"simple"},o.map(function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.name")),r.a.createElement("input",{type:"text",name:"name",className:"form-control",onChange:this.changeString("name"),value:a.name||""}),this.getError("name"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.surname")),r.a.createElement("input",{type:"text",name:"surname",className:"form-control",onChange:this.changeString("surname"),value:a.surname||""}),this.getError("surname")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.email")),r.a.createElement("input",{type:"email",name:"email",className:"form-control",onChange:this.changeString("email"),value:a.email||""}),this.getError("email"))))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.phoneLandline")),r.a.createElement(Ra,{fieldId:"profile.phoneLandline",className:"form-control",onChange:this.changePhone("phoneLandline"),value:a.phoneLandline||""}),this.getError("phoneLandline"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.phoneMobile")),r.a.createElement(Ra,{fieldId:"profile.phoneMobile",className:"form-control",onChange:this.changePhone("phoneMobile"),value:a.phoneMobile||""}),this.getError("phoneMobile"))))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.address.country")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeAddressString("country"),value:a.address.country||""}),this.getError("country"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.address.city")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeAddressString("city"),value:a.address.city||""}),this.getError("city")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.address.address")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeAddressString("address"),value:a.address.address||""}),this.getError("address"))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.address.zip")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeAddressString("zip"),value:a.address.zip||""}),this.getError("zip"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.property.id")),r.a.createElement("input",{type:"text",className:"form-control",readOnly:!0,defaultValue:a.property.id}))),r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("profile.property.name")),r.a.createElement("input",{type:"text",className:"form-control",readOnly:!0,defaultValue:a.property.name})))))))))}}]),a}(r.a.Component),Ua=Object(Oa.a)({Profile:function(e){return e.Profile}}),Ha=Object(c.c)(Ua)(Va),Ga=t(52),Ma=(t(106),t(107),Object(Ga.b)(We.a)),za=function(e){return r.a.createElement("div",{className:"calendar-container"},r.a.createElement(Ga.a,Object.assign({localizer:Ma,step:60,showMultiDayTimes:!0},e)))},qa=function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(r)))).onSelectEvent=function(e){console.log(e),t.props.dispatch(Object(S.d)(D.replace(":id",e.resource.id)))},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,a){var t=a().App.token;e({type:"Calendar/FETCH_BEFORE"}),ra.a.get(oa.apiHost+"/api/v1/booking",{headers:{Authorization:t}}).then(function(a){var t=a.data;e({type:"Calendar/FETCH_SUCCESS",payload:t})}).catch(function(a){console.log(a),a.response&&e({type:"Calendar/FETCH_FAILURE",payload:{status:a.response.status,data:a.response.data}})})})}},{key:"render",value:function(){var e=this.props.Calendar,a=(e.isLoading,e.events);return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card shadow-sm my-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"m-0"},ee.t("calendar.title"))),r.a.createElement("div",{className:"col-12 col-md-auto text-right"},r.a.createElement(ya.a,{className:"btn btn-primary",to:F},r.a.createElement("i",{className:"fa fa-plus"}),"\xa0",ee.t("calendar.action"))))),r.a.createElement("div",{className:"card-body"},r.a.createElement(za,{events:a,onSelectEvent:this.onSelectEvent}))))))}}]),a}(r.a.Component),Ya=Object(Oa.a)({Calendar:function(e){return e.Calendar}}),Ka=Object(c.c)(Ya)(qa);function Qa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var Ja=function(e){var a=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Qa(t,!0).forEach(function(a){Object(W.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qa(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},e);return delete a.id,a},Wa=function(e){return function(a,t){var n=t().App.token,r=Ja(e);a({type:"Booking/SAVE_BEFORE"}),(e.id?ra.a.put(oa.apiHost+"/api/v1/booking/".concat(e.id),r,{headers:{Authorization:n}}):ra.a.post(oa.apiHost+"/api/v1/booking",r,{headers:{Authorization:n}})).then(function(e){var t=e.data;a({type:je,payload:t})}).catch(function(e){console.log(e),e.response&&a({type:"Booking/SAVE_FAILURE",payload:{status:e.response.status,data:e.response.data}})})}},Xa=function(e){function a(){var e,t;Object(fa.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(Ea.a)(this,(e=Object(ga.a)(a)).call.apply(e,[this].concat(o)))).submit=function(){var e=t.props.Booking.model;t.props.dispatch(Wa(e))},t.change=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.props.dispatch({type:Ce,payload:Object(W.a)({},e,a)})},t.changeString=function(e){return function(a){return t.change(e,a.target.value)}},t.getError=function(e){var a=t.props.Booking.validator.errors;return void 0===a[e]?null:r.a.createElement("small",{className:"feedback invalid-feedback d-block"},a[e])},t}return Object(ba.a)(a,e),Object(ha.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.props.dispatch(function(e){return function(a,t){var n=t().App.token;a({type:"Booking/FETCH_BEFORE"}),ra.a.get(oa.apiHost+"/api/v1/booking/".concat(e),{headers:{Authorization:n}}).then(function(e){var t=e.data;a({type:Ne,payload:t})}).catch(function(e){console.log(e),e.response&&a({type:"Booking/FETCH_FAILURE",payload:{status:e.response.status,data:e.response.data}})})}}(e))}},{key:"render",value:function(){var e=this.props.Booking,a=e.model,t=(e.isValid,e.isLoading),n=e.serverErrors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card shadow-sm my-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"m-0"},ee.t("booking.title"))),r.a.createElement("div",{className:"col-12 col-md-auto text-right"},r.a.createElement(ya.a,{className:"btn btn-outline-primary transition-3d-hover mr-1",to:P},r.a.createElement("i",{className:"fa fa-ban"}),"\xa0",ee.t("booking.cancel_action")),r.a.createElement("button",{className:"btn btn-primary transition-3d-hover",type:"button",onClick:this.submit,disabled:!0},r.a.createElement("i",{className:t?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",ee.t("booking.action"))))),r.a.createElement("div",{className:"card-body"},n.length>0&&r.a.createElement("div",{className:"alert alert-danger"},r.a.createElement("ul",{className:"simple"},n.map(function(e,a){return r.a.createElement("li",{key:a},e)}))),r.a.createElement("div",{className:"mb-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("booking.arrival")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeString("arrival"),value:a.arrival||""}),this.getError("arrival"))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("booking.departure")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeString("departure"),value:a.departure||""}),this.getError("departure"))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},ee.t("booking.type")),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.changeString("type"),value:a.type||""}),this.getError("type"))))))))))}}]),a}(r.a.Component),Za=Object(Oa.a)({Booking:function(e){return e.Booking}}),$a=Object(ma.g)(Object(c.c)(Za)(Xa));t(108);var et=document.getElementById("root");try{var at=function(){var e,a=Object(s.e)(ta(ca),da,la(s.a.apply(void 0,ia)));return sa.run(Ve),ua&&a.dispatch((e={token:ua},function(a){a({type:"Login/LOGIN_CHECK_BEFORE"}),ra.a.post(oa.apiHost+"/api/v1/login-check",e).then(function(e){var t=e.data;a({type:b,payload:t})}).catch(function(e){console.log(e),e.response&&a({type:y,payload:{status:e.response.status,data:e.response.data}})})})),a}(),tt=r.a.createElement(c.a,{store:at},r.a.createElement(Ue.a,{history:ca},function(e){var a=function(a){var t=a.component,n=Object(pa.a)(a,["component"]),o=e.getState().App;return o.isLoadingVisible?r.a.createElement(ma.b,Object.assign({},n,{render:function(){return r.a.createElement(va,null)}})):!0===o.isAuthenticated?r.a.createElement(ma.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(ma.a,{to:I})};return r.a.createElement("div",null,r.a.createElement(wa,null),r.a.createElement("main",{id:"main-content"},r.a.createElement(La,null),r.a.createElement(ma.d,null,r.a.createElement(function(a){var t=a.component,n=Object(pa.a)(a,["component"]);return e.getState().App.isLoadingVisible?r.a.createElement(ma.b,Object.assign({},n,{render:function(){return r.a.createElement(va,null)}})):r.a.createElement(ma.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}}))},{exact:!0,path:I,component:xa}),r.a.createElement(a,{exact:!0,path:x,component:Ha}),r.a.createElement(a,{exact:!0,path:P,component:Ka}),r.a.createElement(a,{exact:!0,path:F,component:$a}),r.a.createElement(a,{path:D,component:$a}),r.a.createElement(ma.a,{path:"*",to:P}))),r.a.createElement(_a,null),r.a.createElement("div",{className:"notification-container"},r.a.createElement(ue.a,null)))}(at)));Object(o.render)(tt,et)}catch(nt){console.error(nt),window.location.reload()}},72:function(e,a,t){e.exports=t(109)},81:function(e){e.exports={}}},[[72,1,2]]]);
//# sourceMappingURL=main.97642c28.chunk.js.map